knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(warning = FALSE)
#libraries
library(dplyr)
library(janitor)
library(sqldf)
library(stringr)
library(psych)
library(ggplot2)
#load state data
json_data <- fromJSON(file = "https://raw.githubusercontent.com/krpopkin/DATA607-Class-Repository/master/Final_Project/Data/state_mapping.json")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(warning = FALSE)
#libraries
library(dplyr)
library(rjson)
library(janitor)
library(sqldf)
library(stringr)
library(psych)
library(ggplot2)
#load state data
json_data <- fromJSON(file = "https://raw.githubusercontent.com/krpopkin/DATA607-Class-Repository/master/Final_Project/Data/state_mapping.json")
state_mapping <- as.data.frame(json_data)
state_mapping <- state_mapping %>% `colnames<-`(c('state_short', 'state_long', 'region'))
head(state_mapping, 1)
# load education data
education <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/Education(Graduation_Rates).csv')
cat('Dimension of raw education data', dim(education),"\n")
#identify columns of interest and rename
education <- clean_names(education)
education <- select(education,
state,
county = area_name,
dropout = less_than_a_high_school_diploma_2014_18,
hs_diploma = high_school_diploma_only_2014_18,
some_college = some_college_or_associate_s_degree_2014_18,
four_year_degree = bachelor_s_degree_or_higher_2014_18,
dropout_percent = percent_of_adults_with_less_than_a_high_school_diploma_2014_18,
hs_diploma_percent = percent_of_adults_with_a_high_school_diploma_only_2014_18,
some_college_percent = percent_of_adults_completing_some_college_or_associate_s_degree_2014_18,
four_year_degree_percent = percent_of_adults_with_a_bachelor_s_degree_or_higher_2014_18)
cat('Dimension of selected education data', dim(education), "\n")
#remove rows that are missing education data
education <- subset(education, dropout != '')
#add the full state name and census region to the education dataframe
education <- sqldf('SELECT *
FROM education
JOIN state_mapping ON education.state = state_mapping.state_short')
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(warning = FALSE)
library(textreadr)
library(rvest)
library(dplyr)
library(rjson)
#csv_to_JSON
json_data <- fromJSON(file = "https://raw.githubusercontent.com/krpopkin/DATA607-Class-Repository/master/Final_Project/Data/JSON_Play/csv_to_JSON.json")
jsondf <- as.data.frame(json_data)
jsondf <- jsondf %>% `colnames<-`(c('state_short', 'state_long', 'region'))
jsondf
#csv_to_JSON_array
json_data <- fromJSON(file = "https://raw.githubusercontent.com/krpopkin/DATA607-Class-Repository/master/Final_Project/Data/JSON_Play/csv_to_JSON_array.json")
jsondf <- as.data.frame(json_data)
jsondf <- jsondf %>% `colnames<-`(c('state_short', 'state_long', 'region'))
jsondf
#csv_to_JSON_column_array
json_data <- fromJSON(file = "https://raw.githubusercontent.com/krpopkin/DATA607-Class-Repository/master/Final_Project/Data/JSON_Play/csv_to_JSON_column_array.json")
jsondf <- as.data.frame(json_data)
jsondf <- jsondf %>% `colnames<-`(c('state_short', 'state_long', 'region'))
jsondf
#csv_to_keyed_JSON
json_data <- fromJSON(file = "https://raw.githubusercontent.com/krpopkin/DATA607-Class-Repository/master/Final_Project/Data/JSON_Play/csv_to_keyed_JSON.json")
jsondf <- as.data.frame(json_data)
jsondf <- jsondf %>% `colnames<-`(c('state_short', 'state_long', 'region'))
jsondf
